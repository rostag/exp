<div class="diagram-container">
  <div class="diagram">
    <div class="sources">
      <div class="section-title">User Groups <span>13</span></div>
      <div *ngFor="let src of byType(sources, 'user')" [id]="src.id" class="list-item" (click)="selectFlow(src)">
        {{ src.label }}
      </div>
      <div class="section-title">Service Groups <span>4</span></div>
      <div *ngFor="let src of byType(sources, 'service')" [id]="src.id" class="list-item" (click)="selectFlow(src)">
        {{ src.label }}
      </div>
      <div class="section-title">Node Groups <span>6</span></div>
      <div *ngFor="let src of byType(sources, 'node')" [id]="src.id" class="list-item" (click)="selectFlow(src)">
        {{ src.label }}
      </div>
    </div>

    <div class="chart-container">
      <svg class="chart" width="100" height="100"></svg>
      <div class="policies">
        <div *ngFor="let gate of getGates()" [id]="gate.id" class="gate-item" (click)="selectGate(gate)">
          <svg viewBox="0 0 24 24" height="23" width="23" >
            <circle cx="12" cy="12" r="11.5" fill="#C22100" *ngIf="gate.intent === 'ALLOW'" />
            <circle cx="12" cy="12" r="11.5" fill="#59961C" *ngIf="gate.intent === 'DENY'" />
          </svg>
          {{ gate.label }}
        </div>
      </div>
    </div>

    <div class="destinations">
      <div class="section-title">Data Groups <span>9</span></div>
      <div *ngFor="let destination of byType(destinations, 'data')" [id]="destination.id" class="list-item">
        {{ destination.label }}
      </div>
    </div>
  </div>
</div>
